(this["webpackJsonpcost-modeller"]=this["webpackJsonpcost-modeller"]||[]).push([[0],{115:function(e,t,n){e.exports=n(150)},150:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=n(15),l=n(18),u=n(93),s=n(71),E=n.n(s),m=n(94),d=n(95),f=n.n(d),p={AED:"UAE Dirham",ARS:"Argentine Peso",AUD:"Australian Dollar",BGN:"Bulgarian Lev",BRL:"Brazilian Real",BSD:"Bahamian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc",CLP:"Chilean Peso",CNY:"Chinese Renminbi",COP:"Colombian Peso",CZK:"Czech Koruna",DKK:"Danish Krone",DOP:"Dominican Peso",EGP:"Egyptian Pound",EUR:"Euro",FJD:"Fiji Dollar",GBP:"Pound Sterling",GTQ:"Guatemalan Quetzal",HKD:"Hong Kong Dollar",HRK:"Croatian Kuna",HUF:"Hungarian Forint",IDR:"Indonesian Rupiah",ILS:"Israeli New Shekel",INR:"Indian Rupee",ISK:"Icelandic Krona",JPY:"Japanese Yen",KRW:"South Korean Won",KZT:"Kazakhstani Tenge",MVR:"Maldivian Rufiyaa",MXN:"Mexican Peso",MYR:"Malaysian Ringgit",NOK:"Norwegian Krone",NZD:"New Zealand Dollar",PAB:"Panamanian Balboa",PEN:"Peruvian Sol",PHP:"Philippine Peso",PKR:"Pakistani Rupee",PLN:"Polish Zloty",PYG:"Paraguayan Guarani",RON:"Romanian Leu",RUB:"Russian Ruble",SAR:"Saudi Riyal",SEK:"Swedish Krona",SGD:"Singapore Dollar",THB:"Thai Baht",TRY:"Turkish Lira",TWD:"New Taiwan Dollar",UAH:"Ukrainian Hryvnia",USD:"United States Dollar",UYU:"Uruguayan Peso",ZAR:"South African Rand"},b=Object.fromEntries(Object.keys(p).map((function(e){return[e,1]}))),C=function(e){return{type:"FETCH_CURRENCIES_ERROR",payload:{rates:b,isLoading:!1,error:e}}},g=Object(o.c)({rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_SUCCESS":case"FETCH_CURRENCIES_ERROR":return t.payload.rates;default:return e}},isLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_SUCCESS":case"FETCH_CURRENCIES_ERROR":case"FETCH_CURRENCIES_REQUEST":return t.payload.isLoading;default:return e}}}),h=n(51),y=n(45),v=Object(o.c)({unitType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mass",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNIT_TYPES_SELECTED":return t.payload;default:return e}},baseUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"g",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BASE_UNITS_SELECTED":return t.payload;case"UNIT_TYPES_SELECTED":return"mass"===t.payload?"g":"ml";default:return e}},baseCurrency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BASE_CURRENCY_SELECTED":return t.payload;default:return e}}}),R=function(e){return e.unitType},S=Object(h.createSelector)(R,(function(e){switch(e){case"volume":return Object(y.volume)().list();case"mass":default:return Object(y.mass)().list()}})),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENCIES_ERROR":return t.payload.error;case"FETCH_CURRENCIES_SUCCESS":return null;default:return e}},N=n(37),T=function(e,t,n){return n.payload.collection===t?[].concat(Object(N.a)(e),Object(N.a)(n.payload.ids.filter((function(t){return!e.includes(t)})))):n.payload.collection!==t?e.filter((function(e){return!n.payload.ids.includes(e)})):e},j=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ASSIGN_INGREDIENT":return T(t,e,n);case"CREATE_INGREDIENT":return n.payload.collection===e?[].concat(Object(N.a)(t),[n.payload.id]):t;case"DELETE_INGREDIENT":return t.filter((function(e){return!n.payload.includes(e)}));default:return t}}},U=Object(o.c)({variable:j("variable"),fixed:j("fixed"),balance:j("balance")}),I=n(38),_=(n(205),function(e){return{id:e.payload.id,ingredientName:e.payload.data.ingredientName,pricedInCurrency:e.payload.data.pricedInCurrency,cost:parseFloat(e.payload.data.cost),numberOfUnits:parseFloat(e.payload.data.numberOfUnits),unit:e.payload.data.unit,quantity:parseFloat(e.payload.data.quantity),editing:!1}}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_INGREDIENT":return[].concat(Object(N.a)(e),[_(t)]);case"OPEN_INGREDIENT":return e.map((function(e){return e.id===t.payload.id?Object(I.a)(Object(I.a)({},e),{},{editing:!0}):Object(I.a)(Object(I.a)({},e),{},{editing:!1})}));case"CLOSE_INGREDIENT":return e.map((function(e){return e.id===t.payload.id?Object(I.a)(Object(I.a)({},e),{},{editing:!1}):e}));case"EDIT_INGREDIENT":return[].concat(Object(N.a)(e),[_(t)]);case"DELETE_INGREDIENT":return e.filter((function(e){return!t.payload.includes(e.id)}));default:return e}},D=Object(o.c)({currency:g,config:v,errors:O,collections:U,ingredients:w}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,k=function(e){var t=e.children,n=e.initialState,a=void 0===n?{}:n;return r.a.createElement(l.a,{store:Object(o.e)(D,a,P(Object(o.a)(u.a)))},t)},B=(n(147),n(200)),L=n(202),A=n(189),F=n(192),H=n(193),G=n(194),x=n(197),K=n(97),M=n.n(K),Y=n(208),z=Object(A.a)((function(e){return{footer:{position:"fixed",top:"auto",bottom:0},homeButton:{marginRight:e.spacing(2)},link:{flexGrow:1}}})),W=function(e){var t=z();return r.a.createElement(F.a,{className:t.footer,color:"secondary"},r.a.createElement(H.a,{variant:"dense"},r.a.createElement(G.a,{className:t.link,href:"https://www.exchangerate-api.com",target:"_blank",rel:"noopener noreferrer",color:"inherit"},"Currency Conversion by ExchangeRate-API.com"),r.a.createElement(Y.a,{title:"back to top"},r.a.createElement(x.a,{className:t.homeButton,onClick:function(){return window.scrollTo(0,0)}},r.a.createElement(M.a,{color:"inherit"})))))},Z=n(56),q=n(53),J=n(13),Q=n(153),V=n(98),X=n.n(V),$=n(209),ee=n(102),te=n(204),ne=n(199),ae=n(198),re=Object(A.a)((function(e){var t;return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:(t={},Object(q.a)(t,e.breakpoints.down("sm"),{flexGrow:1}),Object(q.a)(t,"marginRight",e.spacing(2)),t)}})),ce=[{menuTitle:"Calculator",pageURL:"/"},{menuTitle:"How To",pageURL:"/howto"},{menuTitle:"About",pageURL:"/about"}],ie={0:"/",1:"/howto",2:"/about"},oe={"/":0,"/howto":1,"/about":2},le=Object(B.d)((function(e){var t=e.location,n=e.history,c=t.pathname,i=Object(a.useState)(null),o=Object(Z.a)(i,2),l=o[0],u=o[1],s=Object(a.useState)(oe[c]),E=Object(Z.a)(s,2),m=E[0],d=E[1],f=re(),p=Object(J.a)(),b=Boolean(l),C=Object(ae.a)(p.breakpoints.down("sm"));return r.a.createElement("div",{className:f.root},r.a.createElement(F.a,{position:"static"},r.a.createElement(H.a,null,r.a.createElement(Q.a,{variant:"h5",className:f.title},"Ingredient Cost Modeller"),C?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{edge:"start",className:f.menuButton,color:"inherit",onClick:function(e){u(e.currentTarget)}},r.a.createElement(X.a,null)),r.a.createElement(ee.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){return u(null)}},ce.map((function(e){var t=e.menuTitle,a=e.pageURL;return r.a.createElement($.a,{onClick:function(){return function(e){n.push(e),u(null)}(a)},key:t},t)})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{value:m,onChange:function(e,t){n.push(ie[t]),d(t)}},ce.map((function(e){return r.a.createElement(ne.a,{label:e.menuTitle,key:e.menuTitle})})))))))})),ue=function(){return r.a.createElement("div",null,"How to use the calulator")},se=n(207),Ee=n(99),me=n.n(Ee),de=n(100),fe=n.n(de),pe=n(101),be=n.n(pe),Ce=n(210),ge=n(201),he=n(203),ye=n(57),ve=function(e){return S(e.config)},Re=function(e){return function(e){return e.baseCurrency}(e.config)},Se=function(e){return function(e){return e.baseUnit}(e.config)},Oe=function(e){return R(e.config)},Ne=function(e){return function(e){return e.rates}(e.currency)},Te=function(e){return e.ingredients},je=Object(ye.createCachedSelector)([Te,function(e,t){return e.collections[t]}],(function(e,t){return e.filter((function(e){return t.includes(e.id)}))}))((function(e,t){return t})),Ue=function(e){return e.reduce((function(e,t){return e+t.quantity}),0)},Ie=Object(ye.createCachedSelector)(je,(function(e){return Ue(e)}))((function(e,t){return t})),_e=Object(h.createSelector)(Te,(function(e){return Ue(e)})),we=(Object(ye.createCachedSelector)([Ie,_e],(function(e,t){return e/t}))((function(e,t){return t})),function(e,t,n,a){return e.reduce((function(e,r){var c,i,o;return e+function(e,t,n,a){return e[t]/e[n]*a}(a,n.baseCurrency,r.pricedInCurrency,r.cost)/(c=r.unit,i=n.baseUnit,o=r.numberOfUnits,"mass"===n.unitType?Object(y.mass)(o).from(c).to(i).value:Object(y.volume)(o).from(c).to(i).value)*(r.quantity/t)}),0)}),De=(Object(ye.createCachedSelector)([je,Ie,function(e){return e.config},Ne],(function(e,t,n,a){return we(e,t,n,a)}))((function(e,t){return t})),Object(l.b)((function(e){return{rates:Ne(e)}}))((function(e){var t=e.rates,n=e.id,c=e.label,i=e.value,o=e.onChange,l=e.className,u=Object(a.useMemo)((function(){return Object.keys(t).map((function(e){return r.a.createElement($.a,{key:e,value:e},"".concat(function(e){return e in p?p[e]:e}(e)," (").concat(e,")"))}))}),[t]),s="".concat(n,"-label");return r.a.createElement(ge.a,{variant:"outlined",className:l,size:"small",fullWidth:!0},r.a.createElement(Ce.a,{id:s},c),r.a.createElement(he.a,{labelId:s,id:n,value:i,onChange:function(e){return o(e.target.value)},label:c},u))}))),Pe=Object(l.b)((function(e){return{definitions:ve(e)}}))((function(e){var t=e.definitions,n=e.value,c=e.id,i=e.label,o=e.onChange,l=e.pluralUnitNames,u=e.className,s=Object(a.useMemo)((function(){return t.map((function(e,t){return r.a.createElement($.a,{key:t,value:e.unit},"".concat(e[l?"plural":"singular"]," (").concat(e.unit,")"))}))}),[t,l]),E="".concat(c,"-label");return r.a.createElement(ge.a,{variant:"outlined",className:u,size:"small",fullWidth:!0},r.a.createElement(Ce.a,{id:E},i),r.a.createElement(he.a,{labelId:E,id:c,value:n,onChange:function(e){return o(e.target.value)},label:i},s))})),ke=function(e){var t=e.value,n=e.id,a=e.label,c=e.onChange,i=e.className,o="".concat(n,"-label");return r.a.createElement(ge.a,{variant:"outlined",className:i,size:"small",fullWidth:!0},r.a.createElement(Ce.a,{id:o},a),r.a.createElement(he.a,{labelId:o,id:n,value:t,onChange:function(e){return c(e.target.value)},label:a},r.a.createElement($.a,{key:1,value:"mass"},"Mass"),r.a.createElement($.a,{key:2,value:"volume"},"Volume")))},Be=Object(A.a)((function(e){return{dropdownContainer:{flexGrow:1}}})),Le=Object(l.b)((function(e){return{baseCurrency:Re(e),unitType:Oe(e),baseUnit:Se(e)}}),{changeBaseCurrency:function(e){return{type:"BASE_CURRENCY_SELECTED",payload:e}},changeUnitType:function(e){return{type:"UNIT_TYPES_SELECTED",payload:e}},changeBaseUnits:function(e){return{type:"BASE_UNITS_SELECTED",payload:e}}})((function(e){var t=e.baseCurrency,n=e.unitType,a=e.baseUnit,c=e.changeBaseCurrency,i=e.changeUnitType,o=e.changeBaseUnits,l=Be();return r.a.createElement(L.a,{item:!0,container:!0,direction:"row",spacing:3,alignItems:"center"},r.a.createElement(L.a,{item:!0},r.a.createElement(Q.a,{variant:"h6"},"Project Options:")),r.a.createElement(L.a,{item:!0,className:l.dropdownContainer,xs:12,md:"auto"},r.a.createElement(De,{id:"baseCurrencySelect",label:"base currency",value:t,onChange:c})),r.a.createElement(L.a,{item:!0,className:l.dropdownContainer,xs:12,md:"auto"},r.a.createElement(ke,{id:"unitTypeSelect",label:"unit types",value:n,onChange:i})),r.a.createElement(L.a,{item:!0,className:l.dropdownContainer,xs:12,md:"auto"},r.a.createElement(Pe,{id:"baseUnitSelect",label:"base units",value:a,onChange:o})))})),Ae=Object(A.a)((function(e){return{drawerContainer:{padding:e.spacing(2)},container:{padding:e.spacing(2)},iconButton:{padding:0}}})),Fe=Object(l.b)((function(e){return{baseUnit:Se(e),baseCurrency:Re(e)}}))((function(e){var t=e.baseUnit,n=e.baseCurrency,c=Object(a.useState)(!1),i=Object(Z.a)(c,2),o=i[0],l=i[1],u=Ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{anchor:"top",open:o,onClose:function(){return l(!1)}},r.a.createElement("div",{className:u.drawerContainer},r.a.createElement(Le,null),r.a.createElement(Y.a,{title:"Close options panel"},r.a.createElement(x.a,{onClick:function(){return l(!1)},style:{float:"right"}},r.a.createElement(me.a,null))))),r.a.createElement(L.a,{container:!0,direction:"column",className:u.container},r.a.createElement(L.a,{item:!0,container:!0,direction:"row",alignItems:"flex-start",alignContent:"center",spacing:3},r.a.createElement(L.a,{item:!0},r.a.createElement(Q.a,{variant:"body1"},"Currency: ",n)),r.a.createElement(L.a,{item:!0},r.a.createElement(Q.a,{variant:"body1"},"Units: ",t)),r.a.createElement(L.a,{item:!0},r.a.createElement(Y.a,{title:"Project options"},r.a.createElement(x.a,{className:u.iconButton,onClick:function(){return l(!0)}},r.a.createElement(fe.a,null)))),r.a.createElement(L.a,{item:!0},r.a.createElement(Y.a,{title:"Add new ingredient to project"},r.a.createElement(x.a,{className:u.iconButton},r.a.createElement(be.a,null)))))))})),He=function(){return r.a.createElement("div",null,"About")},Ge=n(27),xe=Object(Ge.a)(),Ke=Object(l.b)(null,{fetchCurrencies:function(){return function(){var e=Object(m.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_CURRENCIES_REQUEST",payload:{isLoading:!0}}),e.prev=1,e.next=4,f.a.get("https://open.exchangerate-api.com/v6/latest");case 4:"success"===(n=e.sent.data).result?t({type:"FETCH_CURRENCIES_SUCCESS",payload:{rates:n.rates,isLoading:!1,error:null}}):t(C(n["error-type"])),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(C(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.fetchCurrencies;return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement(B.b,{history:xe},r.a.createElement(L.a,{container:!0,direction:"column"},r.a.createElement(L.a,{item:!0},r.a.createElement(le,null)),r.a.createElement(L.a,{item:!0},r.a.createElement(B.c,null,r.a.createElement(B.a,{path:"/",exact:!0,component:Fe}),r.a.createElement(B.a,{path:"/howto",component:ue}),r.a.createElement(B.a,{path:"/about",component:He}))),r.a.createElement(L.a,{item:!0},r.a.createElement(W,null))))}));i.a.render(r.a.createElement(k,null,r.a.createElement(Ke,null)),document.querySelector("#root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.779d2aeb.chunk.js.map